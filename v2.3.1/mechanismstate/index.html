<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>MechanismState · RigidBodyDynamics.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">RigidBodyDynamics.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../generated/1. Quickstart - double pendulum/1. Quickstart - double pendulum/">1. Quickstart - double pendulum</a></li><li><a class="tocitem" href="../generated/2. Closed-loop simulation and visualization/2. Closed-loop simulation and visualization/">2. Closed-loop simulation and visualization</a></li><li><a class="tocitem" href="../generated/3. Four-bar linkage/3. Four-bar linkage/">3. Four-bar linkage</a></li><li><a class="tocitem" href="../generated/4. Jacobian IK and Control/4. Jacobian IK and Control/">4. Jacobian IK and Control</a></li><li><a class="tocitem" href="../generated/5. Derivatives and gradients using ForwardDiff/5. Derivatives and gradients using ForwardDiff/">5. Derivatives and gradients using ForwardDiff</a></li><li><a class="tocitem" href="../generated/6. Symbolics using SymPy/6. Symbolics using SymPy/">6. Symbolics using SymPy</a></li><li><a class="tocitem" href="../generated/7. Rigorous error bounds using IntervalArithmetic/7. Rigorous error bounds using IntervalArithmetic/">7. Rigorous error bounds using IntervalArithmetic</a></li></ul></li><li><span class="tocitem">Library</span><ul><li><a class="tocitem" href="../spatial/">Spatial vector algebra</a></li><li><a class="tocitem" href="../joints/">Joints</a></li><li><a class="tocitem" href="../rigidbody/">Rigid bodies</a></li><li><a class="tocitem" href="../mechanism/">Mechanism</a></li><li class="is-active"><a class="tocitem" href>MechanismState</a><ul class="internal"><li><a class="tocitem" href="#Index"><span>Index</span></a></li><li><a class="tocitem" href="#The-MechanismState-type"><span>The <code>MechanismState</code> type</span></a></li><li><a class="tocitem" href="#Functions"><span>Functions</span></a></li></ul></li><li><a class="tocitem" href="../algorithms/">Kinematics/dynamics algorithms</a></li><li><a class="tocitem" href="../customcollections/">Custom collection types</a></li><li><a class="tocitem" href="../caches/">Cache types</a></li><li><a class="tocitem" href="../simulation/">Simulation</a></li><li><a class="tocitem" href="../urdf/">URDF parsing and writing</a></li></ul></li><li><a class="tocitem" href="../benchmarks/">Benchmarks</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Library</a></li><li class="is-active"><a href>MechanismState</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>MechanismState</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/master/docs/src/mechanismstate.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="MechanismState"><a class="docs-heading-anchor" href="#MechanismState">MechanismState</a><a id="MechanismState-1"></a><a class="docs-heading-anchor-permalink" href="#MechanismState" title="Permalink"></a></h1><h2 id="Index"><a class="docs-heading-anchor" href="#Index">Index</a><a id="Index-1"></a><a class="docs-heading-anchor-permalink" href="#Index" title="Permalink"></a></h2><ul><li><a href="#RigidBodyDynamics.MechanismState"><code>RigidBodyDynamics.MechanismState</code></a></li><li><a href="#Base.copyto!-Tuple{MechanismState,AbstractArray{T,1} where T}"><code>Base.copyto!</code></a></li><li><a href="#Base.copyto!-Tuple{AbstractArray{T,1} where T,MechanismState}"><code>Base.copyto!</code></a></li><li><a href="#Base.copyto!-Tuple{MechanismState,MechanismState}"><code>Base.copyto!</code></a></li><li><a href="#Random.rand!-Tuple{MechanismState}"><code>Random.rand!</code></a></li><li><a href="#RigidBodyDynamics.additional_state-Tuple{MechanismState}"><code>RigidBodyDynamics.additional_state</code></a></li><li><a href="#RigidBodyDynamics.bias_acceleration"><code>RigidBodyDynamics.bias_acceleration</code></a></li><li><a href="#RigidBodyDynamics.bias_acceleration"><code>RigidBodyDynamics.bias_acceleration</code></a></li><li><a href="#RigidBodyDynamics.configuration-Tuple{MechanismState}"><code>RigidBodyDynamics.configuration</code></a></li><li><a href="#RigidBodyDynamics.configuration-Tuple{MechanismState,Union{JointID, var&quot;#s191&quot;} where var&quot;#s191&quot;&lt;:Joint}"><code>RigidBodyDynamics.configuration</code></a></li><li><a href="#RigidBodyDynamics.configuration_index_to_joint_id-Tuple{MechanismState,Integer}"><code>RigidBodyDynamics.configuration_index_to_joint_id</code></a></li><li><a href="#RigidBodyDynamics.configuration_range-Tuple{MechanismState,Union{JointID, var&quot;#s191&quot;} where var&quot;#s191&quot;&lt;:Joint}"><code>RigidBodyDynamics.configuration_range</code></a></li><li><a href="#RigidBodyDynamics.constraint_range-Tuple{MechanismState,Union{JointID, var&quot;#s191&quot;} where var&quot;#s191&quot;&lt;:Joint}"><code>RigidBodyDynamics.constraint_range</code></a></li><li><a href="#RigidBodyDynamics.crb_inertia"><code>RigidBodyDynamics.crb_inertia</code></a></li><li><a href="#RigidBodyDynamics.global_coordinates!-Tuple{MechanismState,SegmentedVector{JointID,T,KeyRange,P} where P&lt;:AbstractArray{T,1} where KeyRange&lt;:AbstractRange{JointID} where T,SegmentedVector{JointID,T,KeyRange,P} where P&lt;:AbstractArray{T,1} where KeyRange&lt;:AbstractRange{JointID} where T}"><code>RigidBodyDynamics.global_coordinates!</code></a></li><li><a href="#RigidBodyDynamics.gravitational_potential_energy"><code>RigidBodyDynamics.gravitational_potential_energy</code></a></li><li><a href="#RigidBodyDynamics.joint_transform"><code>RigidBodyDynamics.joint_transform</code></a></li><li><a href="#RigidBodyDynamics.local_coordinates!-Tuple{SegmentedVector{JointID,T,KeyRange,P} where P&lt;:AbstractArray{T,1} where KeyRange&lt;:AbstractRange{JointID} where T,SegmentedVector{JointID,T,KeyRange,P} where P&lt;:AbstractArray{T,1} where KeyRange&lt;:AbstractRange{JointID} where T,MechanismState,SegmentedVector{JointID,T,KeyRange,P} where P&lt;:AbstractArray{T,1} where KeyRange&lt;:AbstractRange{JointID} where T}"><code>RigidBodyDynamics.local_coordinates!</code></a></li><li><a href="#RigidBodyDynamics.normalize_configuration!-Tuple{MechanismState}"><code>RigidBodyDynamics.normalize_configuration!</code></a></li><li><a href="#RigidBodyDynamics.num_additional_states-Tuple{MechanismState}"><code>RigidBodyDynamics.num_additional_states</code></a></li><li><a href="#RigidBodyDynamics.num_positions-Tuple{MechanismState}"><code>RigidBodyDynamics.num_positions</code></a></li><li><a href="#RigidBodyDynamics.num_velocities-Tuple{MechanismState}"><code>RigidBodyDynamics.num_velocities</code></a></li><li><a href="#RigidBodyDynamics.principal_value!-Tuple{MechanismState}"><code>RigidBodyDynamics.principal_value!</code></a></li><li><a href="#RigidBodyDynamics.rand_configuration!-Tuple{MechanismState}"><code>RigidBodyDynamics.rand_configuration!</code></a></li><li><a href="#RigidBodyDynamics.rand_velocity!-Tuple{MechanismState}"><code>RigidBodyDynamics.rand_velocity!</code></a></li><li><a href="#RigidBodyDynamics.relative_transform-Tuple{MechanismState,CartesianFrame3D,CartesianFrame3D}"><code>RigidBodyDynamics.relative_transform</code></a></li><li><a href="#RigidBodyDynamics.relative_twist-Tuple{MechanismState,Union{BodyID, var&quot;#s190&quot;} where var&quot;#s190&quot;&lt;:RigidBody,Union{BodyID, var&quot;#s187&quot;} where var&quot;#s187&quot;&lt;:RigidBody}"><code>RigidBodyDynamics.relative_twist</code></a></li><li><a href="#RigidBodyDynamics.relative_twist-Tuple{MechanismState,CartesianFrame3D,CartesianFrame3D}"><code>RigidBodyDynamics.relative_twist</code></a></li><li><a href="#RigidBodyDynamics.reset_contact_state!-Tuple{MechanismState}"><code>RigidBodyDynamics.reset_contact_state!</code></a></li><li><a href="#RigidBodyDynamics.set_additional_state!-Tuple{MechanismState,AbstractArray{T,1} where T}"><code>RigidBodyDynamics.set_additional_state!</code></a></li><li><a href="#RigidBodyDynamics.set_configuration!-Tuple{MechanismState,AbstractArray{T,1} where T}"><code>RigidBodyDynamics.set_configuration!</code></a></li><li><a href="#RigidBodyDynamics.set_configuration!-Tuple{MechanismState,Joint,Any}"><code>RigidBodyDynamics.set_configuration!</code></a></li><li><a href="#RigidBodyDynamics.set_velocity!-Tuple{MechanismState,Joint,Any}"><code>RigidBodyDynamics.set_velocity!</code></a></li><li><a href="#RigidBodyDynamics.set_velocity!-Tuple{MechanismState,AbstractArray{T,1} where T}"><code>RigidBodyDynamics.set_velocity!</code></a></li><li><a href="#RigidBodyDynamics.setdirty!-Tuple{MechanismState}"><code>RigidBodyDynamics.setdirty!</code></a></li><li><a href="#RigidBodyDynamics.spatial_inertia"><code>RigidBodyDynamics.spatial_inertia</code></a></li><li><a href="#RigidBodyDynamics.supports-Tuple{Union{JointID, var&quot;#s190&quot;} where var&quot;#s190&quot;&lt;:Joint,Union{BodyID, var&quot;#s187&quot;} where var&quot;#s187&quot;&lt;:RigidBody,MechanismState}"><code>RigidBodyDynamics.supports</code></a></li><li><a href="#RigidBodyDynamics.transform_to_root"><code>RigidBodyDynamics.transform_to_root</code></a></li><li><a href="#RigidBodyDynamics.twist"><code>RigidBodyDynamics.twist</code></a></li><li><a href="#RigidBodyDynamics.twist_wrt_world"><code>RigidBodyDynamics.twist_wrt_world</code></a></li><li><a href="#RigidBodyDynamics.velocity-Tuple{MechanismState}"><code>RigidBodyDynamics.velocity</code></a></li><li><a href="#RigidBodyDynamics.velocity-Tuple{MechanismState,Union{JointID, var&quot;#s191&quot;} where var&quot;#s191&quot;&lt;:Joint}"><code>RigidBodyDynamics.velocity</code></a></li><li><a href="#RigidBodyDynamics.velocity_index_to_joint_id-Tuple{MechanismState,Integer}"><code>RigidBodyDynamics.velocity_index_to_joint_id</code></a></li><li><a href="#RigidBodyDynamics.velocity_range-Tuple{MechanismState,Union{JointID, var&quot;#s191&quot;} where var&quot;#s191&quot;&lt;:Joint}"><code>RigidBodyDynamics.velocity_range</code></a></li><li><a href="#RigidBodyDynamics.zero!-Tuple{MechanismState}"><code>RigidBodyDynamics.zero!</code></a></li><li><a href="#RigidBodyDynamics.zero_configuration!-Tuple{MechanismState}"><code>RigidBodyDynamics.zero_configuration!</code></a></li><li><a href="#RigidBodyDynamics.zero_velocity!-Tuple{MechanismState}"><code>RigidBodyDynamics.zero_velocity!</code></a></li></ul><h2 id="The-MechanismState-type"><a class="docs-heading-anchor" href="#The-MechanismState-type">The <code>MechanismState</code> type</a><a id="The-MechanismState-type-1"></a><a class="docs-heading-anchor-permalink" href="#The-MechanismState-type" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.MechanismState" href="#RigidBodyDynamics.MechanismState"><code>RigidBodyDynamics.MechanismState</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">struct MechanismState{X, M, C, JointCollection}</code></pre><p>A <code>MechanismState</code> stores state information for an entire <code>Mechanism</code>. It contains the joint configuration and velocity vectors <span>$q$</span> and <span>$v$</span>, and a vector of additional states <span>$s$</span>. In addition, it stores cache variables that depend on <span>$q$</span> and <span>$v$</span> and are aimed at preventing double work.</p><p>Type parameters:</p><ul><li><code>X</code>: the scalar type of the <span>$q$</span>, <span>$v$</span>, and <span>$s$</span> vectors.</li><li><code>M</code>: the scalar type of the <code>Mechanism</code></li><li><code>C</code>: the scalar type of the cache variables (<code>== promote_type(X, M)</code>)</li><li><code>JointCollection</code>: the type of the <code>treejoints</code> and <code>nontreejoints</code> members (a <code>TypeSortedCollection</code> subtype)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L21">source</a></section></article><h2 id="Functions"><a class="docs-heading-anchor" href="#Functions">Functions</a><a id="Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Base.copyto!-Tuple{AbstractArray{T,1} where T,MechanismState}" href="#Base.copyto!-Tuple{AbstractArray{T,1} where T,MechanismState}"><code>Base.copyto!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">copyto!(dest, src)
</code></pre><p>Copy state information in state <code>dest</code> to vector <code>src</code> (ordered <code>[q; v; s]</code>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L477">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.copyto!-Tuple{MechanismState,AbstractArray{T,1} where T}" href="#Base.copyto!-Tuple{MechanismState,AbstractArray{T,1} where T}"><code>Base.copyto!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">copyto!(dest, src)
</code></pre><p>Copy state information in vector <code>src</code> (ordered <code>[q; v; s]</code>) to state <code>dest</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L460">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.copyto!-Tuple{MechanismState,MechanismState}" href="#Base.copyto!-Tuple{MechanismState,MechanismState}"><code>Base.copyto!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">copyto!(dest, src)
</code></pre><p>Copy (minimal representation of) state <code>src</code> to state <code>dest</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L445">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Random.rand!-Tuple{MechanismState}" href="#Random.rand!-Tuple{MechanismState}"><code>Random.rand!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">rand!(state)
</code></pre><p>Randomize both the configuration and velocity. Invalidates cache variables.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L348">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.additional_state-Tuple{MechanismState}" href="#RigidBodyDynamics.additional_state-Tuple{MechanismState}"><code>RigidBodyDynamics.additional_state</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">additional_state(state)
</code></pre><p>Return the vector of additional states <span>$s$</span>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L378">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.bias_acceleration" href="#RigidBodyDynamics.bias_acceleration"><code>RigidBodyDynamics.bias_acceleration</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">bias_acceleration(state, body)
bias_acceleration(state, body, safe)
</code></pre><p>Return the bias acceleration of the given body with respect to the world, i.e. the spatial acceleration of <code>default_frame(body)</code> with respect to the root frame of the mechanism, expressed in the root frame, when all joint accelerations are zero.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L649">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.bias_acceleration" href="#RigidBodyDynamics.bias_acceleration"><code>RigidBodyDynamics.bias_acceleration</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">bias_acceleration(state, joint)
bias_acceleration(state, joint, safe)
</code></pre><p>Return the bias acceleration across the given joint, i.e. the spatial acceleration of <code>frame_after(joint)</code> with respect to <code>frame_before(joint)</code>, expressed in the root frame of the mechanism when all joint accelerations are zero.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L615">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.configuration-Tuple{MechanismState,Union{JointID, var&quot;#s191&quot;} where var&quot;#s191&quot;&lt;:Joint}" href="#RigidBodyDynamics.configuration-Tuple{MechanismState,Union{JointID, var&quot;#s191&quot;} where var&quot;#s191&quot;&lt;:Joint}"><code>RigidBodyDynamics.configuration</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">configuration(state, joint)
</code></pre><p>Return the part of the configuration vector <span>$q$</span> associated with <code>joint</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L234">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.configuration-Tuple{MechanismState}" href="#RigidBodyDynamics.configuration-Tuple{MechanismState}"><code>RigidBodyDynamics.configuration</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">configuration(state)
</code></pre><p>Return the configuration vector <span>$q$</span>.</p><p>Note that this returns a reference to the underlying data in <code>state</code>. The user is responsible for calling <a href="#RigidBodyDynamics.setdirty!-Tuple{MechanismState}"><code>setdirty!</code></a> after modifying this vector to ensure that dependent cache variables are invalidated.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L356">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.configuration_index_to_joint_id-Tuple{MechanismState,Integer}" href="#RigidBodyDynamics.configuration_index_to_joint_id-Tuple{MechanismState,Integer}"><code>RigidBodyDynamics.configuration_index_to_joint_id</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">configuration_index_to_joint_id(state, qindex)
</code></pre><p>Return the <code>JointID</code> of the joint associated with the given index into the configuration vector <span>$q$</span>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L561">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.configuration_range-Tuple{MechanismState,Union{JointID, var&quot;#s191&quot;} where var&quot;#s191&quot;&lt;:Joint}" href="#RigidBodyDynamics.configuration_range-Tuple{MechanismState,Union{JointID, var&quot;#s191&quot;} where var&quot;#s191&quot;&lt;:Joint}"><code>RigidBodyDynamics.configuration_range</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">configuration_range(state, joint)
</code></pre><p>Return the range of indices into the joint configuration vector <span>$q$</span> corresponding to joint <code>joint</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L547">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.constraint_range-Tuple{MechanismState,Union{JointID, var&quot;#s191&quot;} where var&quot;#s191&quot;&lt;:Joint}" href="#RigidBodyDynamics.constraint_range-Tuple{MechanismState,Union{JointID, var&quot;#s191&quot;} where var&quot;#s191&quot;&lt;:Joint}"><code>RigidBodyDynamics.constraint_range</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">constraint_range(state, joint)
</code></pre><p>Return the range of row indices into the constraint Jacobian corresponding to joint <code>joint</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L575">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.crb_inertia" href="#RigidBodyDynamics.crb_inertia"><code>RigidBodyDynamics.crb_inertia</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">crb_inertia(state, body)
crb_inertia(state, body, safe)
</code></pre><p>Return the composite rigid body inertia <code>body</code> expressed in the root frame of the mechanism.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L673">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.global_coordinates!-Tuple{MechanismState,SegmentedVector{JointID,T,KeyRange,P} where P&lt;:AbstractArray{T,1} where KeyRange&lt;:AbstractRange{JointID} where T,SegmentedVector{JointID,T,KeyRange,P} where P&lt;:AbstractArray{T,1} where KeyRange&lt;:AbstractRange{JointID} where T}" href="#RigidBodyDynamics.global_coordinates!-Tuple{MechanismState,SegmentedVector{JointID,T,KeyRange,P} where P&lt;:AbstractArray{T,1} where KeyRange&lt;:AbstractRange{JointID} where T,SegmentedVector{JointID,T,KeyRange,P} where P&lt;:AbstractArray{T,1} where KeyRange&lt;:AbstractRange{JointID} where T}"><code>RigidBodyDynamics.global_coordinates!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">global_coordinates!(state, q0, ϕ)
</code></pre><p>Convert local coordinates <span>$\phi$</span> centered around <span>$q_0$</span> to (global) configuration vector <span>$q$</span>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L1074">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.gravitational_potential_energy" href="#RigidBodyDynamics.gravitational_potential_energy"><code>RigidBodyDynamics.gravitational_potential_energy</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">gravitational_potential_energy(state, body)
gravitational_potential_energy(state, body, safe)
</code></pre><p>Return the gravitational potential energy in the given state, computed as the negation of the dot product of the gravitational force and the center of mass expressed in the <code>Mechanism</code>&#39;s root frame.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L890">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.joint_transform" href="#RigidBodyDynamics.joint_transform"><code>RigidBodyDynamics.joint_transform</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">joint_transform(state, joint)
joint_transform(state, joint, safe)
</code></pre><p>Return the joint transform for the given joint, i.e. the transform from <code>frame_after(joint)</code> to <code>frame_before(joint)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L593">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.local_coordinates!-Tuple{SegmentedVector{JointID,T,KeyRange,P} where P&lt;:AbstractArray{T,1} where KeyRange&lt;:AbstractRange{JointID} where T,SegmentedVector{JointID,T,KeyRange,P} where P&lt;:AbstractArray{T,1} where KeyRange&lt;:AbstractRange{JointID} where T,MechanismState,SegmentedVector{JointID,T,KeyRange,P} where P&lt;:AbstractArray{T,1} where KeyRange&lt;:AbstractRange{JointID} where T}" href="#RigidBodyDynamics.local_coordinates!-Tuple{SegmentedVector{JointID,T,KeyRange,P} where P&lt;:AbstractArray{T,1} where KeyRange&lt;:AbstractRange{JointID} where T,SegmentedVector{JointID,T,KeyRange,P} where P&lt;:AbstractArray{T,1} where KeyRange&lt;:AbstractRange{JointID} where T,MechanismState,SegmentedVector{JointID,T,KeyRange,P} where P&lt;:AbstractArray{T,1} where KeyRange&lt;:AbstractRange{JointID} where T}"><code>RigidBodyDynamics.local_coordinates!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">local_coordinates!(ϕ, ϕd, state, q0)
</code></pre><p>Compute local coordinates <span>$\phi$</span> centered around (global) configuration vector <span>$q_0$</span>, as well as their time derivatives <span>$\dot{\phi}$</span>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L1058">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.normalize_configuration!-Tuple{MechanismState}" href="#RigidBodyDynamics.normalize_configuration!-Tuple{MechanismState}"><code>RigidBodyDynamics.normalize_configuration!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">normalize_configuration!(state)
</code></pre><p>Project the configuration vector <span>$q$</span> onto the configuration manifold.</p><p>For example:</p><ul><li>for a part of <span>$q$</span> corresponding to a revolute joint, this method is a no-op;</li><li>for a part of <span>$q$</span> corresponding to a spherical joint that uses a unit quaternion</li></ul><p>to parameterize the orientation of its successor with respect to its predecessor, <code>normalize_configuration!</code> will renormalize the quaternion so that it is indeed of unit length.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"></div></div><p>This method does not ensure that the configuration or velocity satisfy joint configuration or velocity limits/bounds.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L508">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.num_additional_states-Tuple{MechanismState}" href="#RigidBodyDynamics.num_additional_states-Tuple{MechanismState}"><code>RigidBodyDynamics.num_additional_states</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">num_additional_states(state)
</code></pre><p>Return the length of the vector of additional states <span>$s$</span> (currently used for stateful contact models).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L222">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.num_positions-Tuple{MechanismState}" href="#RigidBodyDynamics.num_positions-Tuple{MechanismState}"><code>RigidBodyDynamics.num_positions</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">num_positions(state)
</code></pre><p>Return the length of the joint configuration vector <span>$q$</span>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L208">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.num_velocities-Tuple{MechanismState}" href="#RigidBodyDynamics.num_velocities-Tuple{MechanismState}"><code>RigidBodyDynamics.num_velocities</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">num_velocities(state)
</code></pre><p>Return the length of the joint velocity vector <span>$v$</span>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L215">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.principal_value!-Tuple{MechanismState}" href="#RigidBodyDynamics.principal_value!-Tuple{MechanismState}"><code>RigidBodyDynamics.principal_value!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">principal_value!(state)
</code></pre><p>Applies the principal<em>value functions from [Rotations.jl](https://github.com/FugroRoames/Rotations.jl/blob/d080990517f89b56c37962ad53a7fd24bd94b9f7/src/principal</em>value.jl) to joint angles. This currently only applies to <code>SPQuatFloating</code> joints.</p><p>For example:</p><ul><li>for a part of <span>$q$</span> corresponding to a revolute joint, this method is a no-op;</li><li>for a part of <span>$q$</span> corresponding to a <code>SPQuatFloating</code> joint this function applies</li></ul><p>`principal_value the orientation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L530">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.rand_configuration!-Tuple{MechanismState}" href="#RigidBodyDynamics.rand_configuration!-Tuple{MechanismState}"><code>RigidBodyDynamics.rand_configuration!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">rand_configuration!(state)
</code></pre><p>Randomize the configuration vector <span>$q$</span>. The distribution depends on the particular joint types present in the associated <code>Mechanism</code>. The resulting <span>$q$</span> is guaranteed to be on the <code>Mechanism</code>&#39;s configuration manifold. Invalidates cache variables.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L320">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.rand_velocity!-Tuple{MechanismState}" href="#RigidBodyDynamics.rand_velocity!-Tuple{MechanismState}"><code>RigidBodyDynamics.rand_velocity!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">rand_velocity!(state)
</code></pre><p>Randomize the velocity vector <span>$v$</span>. Invalidates cache variables.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L336">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.relative_transform-Tuple{MechanismState,CartesianFrame3D,CartesianFrame3D}" href="#RigidBodyDynamics.relative_transform-Tuple{MechanismState,CartesianFrame3D,CartesianFrame3D}"><code>RigidBodyDynamics.relative_transform</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">relative_transform(state, from, to)
</code></pre><p>Return the homogeneous transform from <code>from</code> to <code>to</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L1006">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.relative_twist-Tuple{MechanismState,CartesianFrame3D,CartesianFrame3D}" href="#RigidBodyDynamics.relative_twist-Tuple{MechanismState,CartesianFrame3D,CartesianFrame3D}"><code>RigidBodyDynamics.relative_twist</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">relative_twist(state, body_frame, base_frame)
</code></pre><p>Return the twist of <code>body_frame</code> with respect to <code>base_frame</code>, expressed in the <code>Mechanism</code>&#39;s root frame.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L1027">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.relative_twist-Tuple{MechanismState,Union{BodyID, var&quot;#s190&quot;} where var&quot;#s190&quot;&lt;:RigidBody,Union{BodyID, var&quot;#s187&quot;} where var&quot;#s187&quot;&lt;:RigidBody}" href="#RigidBodyDynamics.relative_twist-Tuple{MechanismState,Union{BodyID, var&quot;#s190&quot;} where var&quot;#s190&quot;&lt;:RigidBody,Union{BodyID, var&quot;#s187&quot;} where var&quot;#s187&quot;&lt;:RigidBody}"><code>RigidBodyDynamics.relative_twist</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">relative_twist(state, body, base)
</code></pre><p>Return the twist of <code>body</code> with respect to <code>base</code>, expressed in the <code>Mechanism</code>&#39;s root frame.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L1016">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.reset_contact_state!-Tuple{MechanismState}" href="#RigidBodyDynamics.reset_contact_state!-Tuple{MechanismState}"><code>RigidBodyDynamics.reset_contact_state!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">reset_contact_state!(state)
</code></pre><p>Reset all contact state variables.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L267">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.set_additional_state!-Tuple{MechanismState,AbstractArray{T,1} where T}" href="#RigidBodyDynamics.set_additional_state!-Tuple{MechanismState,AbstractArray{T,1} where T}"><code>RigidBodyDynamics.set_additional_state!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">set_additional_state!(state, s)
</code></pre><p>Set the vector of additional states <span>$s$</span>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L435">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.set_configuration!-Tuple{MechanismState,AbstractArray{T,1} where T}" href="#RigidBodyDynamics.set_configuration!-Tuple{MechanismState,AbstractArray{T,1} where T}"><code>RigidBodyDynamics.set_configuration!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">set_configuration!(state, q)
</code></pre><p>Set the configuration vector <span>$q$</span>. Invalidates cache variables.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L415">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.set_configuration!-Tuple{MechanismState,Joint,Any}" href="#RigidBodyDynamics.set_configuration!-Tuple{MechanismState,Joint,Any}"><code>RigidBodyDynamics.set_configuration!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">set_configuration!(state, joint, config)
</code></pre><p>Set the part of the configuration vector associated with <code>joint</code>. Invalidates cache variables.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L391">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.set_velocity!-Tuple{MechanismState,AbstractArray{T,1} where T}" href="#RigidBodyDynamics.set_velocity!-Tuple{MechanismState,AbstractArray{T,1} where T}"><code>RigidBodyDynamics.set_velocity!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">set_velocity!(state, v)
</code></pre><p>Set the velocity vector <span>$v$</span>. Invalidates cache variables.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L425">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.set_velocity!-Tuple{MechanismState,Joint,Any}" href="#RigidBodyDynamics.set_velocity!-Tuple{MechanismState,Joint,Any}"><code>RigidBodyDynamics.set_velocity!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">set_velocity!(state, joint, vel)
</code></pre><p>Set the part of the velocity vector associated with <code>joint</code>. Invalidates cache variables.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L403">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.setdirty!-Tuple{MechanismState}" href="#RigidBodyDynamics.setdirty!-Tuple{MechanismState}"><code>RigidBodyDynamics.setdirty!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">setdirty!(state)
</code></pre><p>Invalidate all cache variables.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L248">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.spatial_inertia" href="#RigidBodyDynamics.spatial_inertia"><code>RigidBodyDynamics.spatial_inertia</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">spatial_inertia(state, body)
spatial_inertia(state, body, safe)
</code></pre><p>Return the spatial inertia of <code>body</code> expressed in the root frame of the mechanism.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L662">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.supports-Tuple{Union{JointID, var&quot;#s190&quot;} where var&quot;#s190&quot;&lt;:Joint,Union{BodyID, var&quot;#s187&quot;} where var&quot;#s187&quot;&lt;:RigidBody,MechanismState}" href="#RigidBodyDynamics.supports-Tuple{Union{JointID, var&quot;#s190&quot;} where var&quot;#s190&quot;&lt;:Joint,Union{BodyID, var&quot;#s187&quot;} where var&quot;#s187&quot;&lt;:RigidBody,MechanismState}"><code>RigidBodyDynamics.supports</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">supports(joint, body, state)
</code></pre><p>Return whether <code>joint</code> supports <code>body</code>, i.e., <code>joint</code> is a tree joint on the path between <code>body</code> and the root.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L583">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.transform_to_root" href="#RigidBodyDynamics.transform_to_root"><code>RigidBodyDynamics.transform_to_root</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">transform_to_root(state, body)
transform_to_root(state, body, safe)
</code></pre><p>Return the transform from <code>default_frame(body)</code> to the root frame of the mechanism.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L627">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.twist" href="#RigidBodyDynamics.twist"><code>RigidBodyDynamics.twist</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">twist(state, joint)
twist(state, joint, safe)
</code></pre><p>Return the joint twist for the given joint, i.e. the twist of <code>frame_after(joint)</code> with respect to <code>frame_before(joint)</code>, expressed in the root frame of the mechanism.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L604">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.twist_wrt_world" href="#RigidBodyDynamics.twist_wrt_world"><code>RigidBodyDynamics.twist_wrt_world</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">twist_wrt_world(state, body)
twist_wrt_world(state, body, safe)
</code></pre><p>Return the twist of <code>default_frame(body)</code> with respect to the root frame of the mechanism, expressed in the root frame.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L638">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.velocity-Tuple{MechanismState,Union{JointID, var&quot;#s191&quot;} where var&quot;#s191&quot;&lt;:Joint}" href="#RigidBodyDynamics.velocity-Tuple{MechanismState,Union{JointID, var&quot;#s191&quot;} where var&quot;#s191&quot;&lt;:Joint}"><code>RigidBodyDynamics.velocity</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">velocity(state, joint)
</code></pre><p>Return the part of the velocity vector <span>$v$</span> associated with <code>joint</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L241">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.velocity-Tuple{MechanismState}" href="#RigidBodyDynamics.velocity-Tuple{MechanismState}"><code>RigidBodyDynamics.velocity</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">velocity(state)
</code></pre><p>Return the velocity vector <span>$v$</span>.</p><p>Note that this function returns a read-write reference to a field in <code>state</code>. The user is responsible for calling <a href="#RigidBodyDynamics.setdirty!-Tuple{MechanismState}"><code>setdirty!</code></a> after modifying this vector to ensure that dependent cache variables are invalidated.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L367">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.velocity_index_to_joint_id-Tuple{MechanismState,Integer}" href="#RigidBodyDynamics.velocity_index_to_joint_id-Tuple{MechanismState,Integer}"><code>RigidBodyDynamics.velocity_index_to_joint_id</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">velocity_index_to_joint_id(state, qindex)
</code></pre><p>Return the <code>JointID</code> of the joint associated with the given index into the velocity vector <span>$v$</span>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L568">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.velocity_range-Tuple{MechanismState,Union{JointID, var&quot;#s191&quot;} where var&quot;#s191&quot;&lt;:Joint}" href="#RigidBodyDynamics.velocity_range-Tuple{MechanismState,Union{JointID, var&quot;#s191&quot;} where var&quot;#s191&quot;&lt;:Joint}"><code>RigidBodyDynamics.velocity_range</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">velocity_range(state, joint)
</code></pre><p>Return the range of indices into the joint velocity vector <span>$v$</span> corresponding to joint <code>joint</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L554">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.zero!-Tuple{MechanismState}" href="#RigidBodyDynamics.zero!-Tuple{MechanismState}"><code>RigidBodyDynamics.zero!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">zero!(state)
</code></pre><p>Zero both the configuration and velocity. Invalidates cache variables.</p><p>See <a href="../joints/#RigidBodyDynamics.zero_configuration!-Tuple{AbstractArray{T,1} where T,Joint}"><code>zero_configuration!</code></a>, <a href="#RigidBodyDynamics.zero_velocity!-Tuple{MechanismState}"><code>zero_velocity!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L311">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.zero_configuration!-Tuple{MechanismState}" href="#RigidBodyDynamics.zero_configuration!-Tuple{MechanismState}"><code>RigidBodyDynamics.zero_configuration!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">zero_configuration!(state)
</code></pre><p>&#39;Zero&#39; the configuration vector <span>$q$</span>. Invalidates cache variables.</p><p>Note that when the <code>Mechanism</code> contains e.g. quaternion-parameterized joints, <span>$q$</span> may not actually be set to all zeros; the quaternion part of the configuration vector would be set to identity. The contract is that each of the joint transforms should be an identity transform.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L282">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RigidBodyDynamics.zero_velocity!-Tuple{MechanismState}" href="#RigidBodyDynamics.zero_velocity!-Tuple{MechanismState}"><code>RigidBodyDynamics.zero_velocity!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">zero_velocity!(state)
</code></pre><p>Zero the velocity vector <span>$v$</span>. Invalidates cache variables.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/RigidBodyDynamics.jl/blob/c86bc6eaee29eee00205475507e70845841f4f12/src/mechanism_state.jl#L300">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../mechanism/">« Mechanism</a><a class="docs-footer-nextpage" href="../algorithms/">Kinematics/dynamics algorithms »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Wednesday 17 February 2021 05:55">Wednesday 17 February 2021</span>. Using Julia version 1.5.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
